## 流式编程

#### Stream

###### Filter

```java
List<String> names = Arrays.asList("Alex", "Brian", "Charles", "David");
List<String> collect = names.stream().filter(item -> item.length() >4).collect(Collectors.toList());
```

###### Map

```java
List<Integer> collect = numbers.stream().map(n ->{
  n = n * 2;
  return n;
}).collect(Collectors.toList());
```

###### Sorted

```java
int[] numbers = { 5, 2, 8, 3, 7 };
int[] sortedNumbers = Arrays.stream(numbers).sorted().toArray();
```

###### Distinct

```java
List<Integer> collect = numbers.stream().distinct().collect(Collectors.toList());
```

###### Limit

```java
List<Integer> collect = numbers.stream().limit(3).collect(Collectors.toList());
```

###### Skip

```java
List<Integer> collect = numbers.stream().skip(2).collect(Collectors.toList());
```

###### Peek

```java
List<String> filteredNames = names.stream().peek(System.out::println).filter(name -> name.startsWith("C")).peek(name -> System.out.println("Filtered value: " + name)).collect(Collectors.toList());
```

###### Foreach

```
names.stream().forEach(System.out::println);
```

###### Collect

```
List<Integer> evenNumbers = numbers.stream().filter(n -> n % 2 == 0).collect(Collectors.toList());
```

###### Count

```
long count = names.stream().count();
```

###### Reduce

```
Optional<Integer> sum = numbers.stream().reduce((a, b) -> a + b);
```

###### AnyMatch：只要有一个匹配就返回true

```java
boolean anyStartsWithB = names.stream().anyMatch(name -> name.startsWith("B"));
```

###### AllMatch：全部匹配返回true

```
boolean allStartsWithB = names.stream().allMatch(name -> name.startsWith("B"));
```

###### NoneMatch：全不匹配返回true

```java
boolean noneStartsWithB = names.stream().noneMatch(name -> name.startsWith("E"));
```

#### Optional

1. `of()`：创建一个包含非空值的 Optional 实例，如果传入的值为 null，会抛出 NullPointerException。
2. `ofNullable()`：创建一个 Optional 实例，包含传入的值，但如果传入的值为 null，则创建一个空的 Optional 实例。
3. `empty()`：创建一个空的 Optional 实例，不包含任何值。
4. `isPresent()`：判断 Optional 实例是否包含非空值，如果包含返回 true，否则返回 false。
5. `ifPresent(Consumer<? super T> consumer)`：如果 Optional 实例包含非空值，则执行传入的 Consumer 操作。
6. `orElse(T other)`：如果 Optional 实例包含非空值，则返回该值，否则返回传入的默认值 other。
7. `orElseGet(Supplier<? extends T> other)`：如果 Optional 实例包含非空值，则返回该值，否则通过传入的 Supplier 生成一个默认值。
8. `orElseThrow(Supplier<? extends X> exceptionSupplier)`：如果 Optional 实例包含非空值，则返回该值，否则通过传入的 Supplier 抛出一个异常。
9. `map(Function<? super T, ? extends U> mapper)`：对 Optional 中的值进行映射转换。
10. `flatMap(Function<? super T, Optional<U>> mapper)`：对 Optional 中的值进行映射转换，并返回一个新的 Optional 对象。
